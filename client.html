<html>
  <body>
    <textarea id="game" rows="30" cols="100"></textarea>
    <input type="text" id="name"  value="josh" placeholder="Name"></input>
    <button onclick="ready()">Ready</button>
    <button onclick="start()">Start</button>
    <button onclick="message()">Message</button>
    <button onclick="declare()">declare</button>
    <script>

      var ws = new WebSocket("ws://192.168.1.73:7000/ws");
      var player_num;

      ws.onopen = function(event) {
        ws.send("hello");
        var name = document.getElementById("name").value;
        ws.send("ready " + name);
      };

      ws.onmessage = function(event) {
        var m = event.data.split(" ");
        switch(m[0]) {
          case "assign":
            player_num = m[1];
            break;
          default:
            document.getElementById("game").value += event.data +'\n';
        }
      };

      function ready() {
        var name = document.getElementById("name").value;
        ws.send("ready " + name);
      }

      function start() {
        ws.send("start");
      }

      function message() {
        ws.send("message wooo");
      }

      function declare() {
        ws.send("declare " + player_num);
      }


    </script>
  </body>

</html>

